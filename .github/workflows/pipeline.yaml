name: Demo CI/CD pipeline for the session 67214 # The name of the workflow

on: # Trigger
  push:
    branches: [ main ] # Trigger the workflow on push events to the main branch
  pull_request:
    branches: [ main ] # Trigger the workflow on pull request events to the main branch
  workflow_dispatch: # Trigger the workflow manually

jobs:
  build:
    runs-on: ubuntu-latest # Use the latest Ubuntu runner for the job

    steps:
    - name: Checkout code # Step to checkout the repository code
      uses: actions/checkout@v2

    - name: Setup .NET Core # Step to setup .NET Core SDK
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '8.0.x' # Specify the .NET Core SDK version to use

    - name: Restore dependencies # Step to restore project dependencies
      run: dotnet restore

    - name: Build # Step to build the project
      run: dotnet build --no-restore --configuration Release

    - name: Test # Step to run unit tests
      run: dotnet test --no-build --verbosity normal --configuration Release
